# æŸ¥çœ‹å›¾ç‰‡å‹ç¼©è¿›åº¦

## ğŸ“‚ å‹ç¼©åçš„å›¾ç‰‡ä½ç½®

**è¾“å‡ºç›®å½•**ï¼š
```
E:\å¶åƒå¤§å¸ˆ\é—ªè€€è‰²å½©å›¾ç‰‡èµ„æº-å‹ç¼©ç‰ˆ\è§’è‰²å¡é¢
```

**ç»“æ„**ï¼š
```
é—ªè€€è‰²å½©å›¾ç‰‡èµ„æº-å‹ç¼©ç‰ˆ/
â””â”€â”€ è§’è‰²å¡é¢/
    â”œâ”€â”€ Ezoragutsu_Morino.Rinze.png     (å‹ç¼©åçš„PNG)
    â”œâ”€â”€ Ezoragutsu_Morino.Rinze.webp    (WebPæ ¼å¼)
    â”œâ”€â”€ Ezoragutsu_Morino.Rinze+.png    (è§‰é†’å¡ï¼Œå‹ç¼©)
    â”œâ”€â”€ Ezoragutsu_Morino.Rinze+.webp   (è§‰é†’å¡ï¼ŒWebP)
    â””â”€â”€ ...æ›´å¤šå¡é¢
```

---

## ğŸ” æŸ¥çœ‹å‹ç¼©è¿›åº¦ï¼ˆPowerShellå‘½ä»¤ï¼‰

### æ–¹æ³•1ï¼šæŸ¥çœ‹å·²å‹ç¼©çš„æ–‡ä»¶æ•°é‡

```powershell
# æ‰“å¼€PowerShellï¼Œè¾“å…¥ï¼š
cd E:\å¶åƒå¤§å¸ˆ\é—ªè€€è‰²å½©å›¾ç‰‡èµ„æº-å‹ç¼©ç‰ˆ\è§’è‰²å¡é¢

# æŸ¥çœ‹PNGæ•°é‡
(Get-ChildItem -Recurse -Filter *.png).Count

# æŸ¥çœ‹WebPæ•°é‡
(Get-ChildItem -Recurse -Filter *.webp).Count

# åº”è¯¥ç›¸ç­‰ï¼Œå¦‚æœéƒ½æœ‰200ä¸ªï¼Œè¯´æ˜å‹ç¼©å®Œæˆ
```

**é¢„æœŸç»“æœ**ï¼ˆå‡è®¾æœ‰200å¼ å¡é¢ï¼‰ï¼š
```
PNG:  200 ä¸ªæ–‡ä»¶
WebP: 200 ä¸ªæ–‡ä»¶
æ€»è®¡: 400 ä¸ªæ–‡ä»¶
```

---

### æ–¹æ³•2ï¼šæŸ¥çœ‹å·²å‹ç¼©æ–‡ä»¶çš„æ€»å¤§å°

```powershell
# æŸ¥çœ‹æ€»å¤§å°ï¼ˆæ›´å‡†ç¡®ï¼‰
cd E:\å¶åƒå¤§å¸ˆ\é—ªè€€è‰²å½©å›¾ç‰‡èµ„æº-å‹ç¼©ç‰ˆ\è§’è‰²å¡é¢
Get-ChildItem -Recurse | Measure-Object -Property Length -Sum

# è¾“å‡ºç¤ºä¾‹ï¼š
# Count    : 400
# Average  :
# Sum      : 180567890  (çº¦172 MB)
# Maximum  :
# Minimum  :
# Property : Length
```

**è®¡ç®—ä¸ºMB**ï¼š
```powershell
# ç›´æ¥æ˜¾ç¤ºMB
$size = (Get-ChildItem -Recurse | Measure-Object -Property Length -Sum).Sum
[math]::Round($size / 1MB, 2)
# è¾“å‡º: 172.15
```

---

### æ–¹æ³•3ï¼šå®æ—¶ç›‘æ§ï¼ˆæ¨èï¼‰

æ‰“å¼€PowerShellï¼Œè¿è¡Œè¿™ä¸ªå‘½ä»¤æ¯5ç§’åˆ·æ–°ä¸€æ¬¡ï¼š

```powershell
while ($true) {
    Clear-Host
    Write-Host "=== å›¾ç‰‡å‹ç¼©è¿›åº¦ç›‘æ§ ===" -ForegroundColor Cyan
    Write-Host ""
    
    $outputDir = "E:\å¶åƒå¤§å¸ˆ\é—ªè€€è‰²å½©å›¾ç‰‡èµ„æº-å‹ç¼©ç‰ˆ\è§’è‰²å¡é¢"
    
    if (Test-Path $outputDir) {
        $pngCount = (Get-ChildItem -Path $outputDir -Recurse -Filter *.png -ErrorAction SilentlyContinue).Count
        $webpCount = (Get-ChildItem -Path $outputDir -Recurse -Filter *.webp -ErrorAction SilentlyContinue).Count
        $totalSize = (Get-ChildItem -Path $outputDir -Recurse -ErrorAction SilentlyContinue | Measure-Object -Property Length -Sum).Sum
        $sizeMB = [math]::Round($totalSize / 1MB, 2)
        
        Write-Host "PNG æ–‡ä»¶:  $pngCount ä¸ª" -ForegroundColor Green
        Write-Host "WebP æ–‡ä»¶: $webpCount ä¸ª" -ForegroundColor Green
        Write-Host "æ€»è®¡:      $($pngCount + $webpCount) ä¸ªæ–‡ä»¶" -ForegroundColor Yellow
        Write-Host "æ€»å¤§å°:    $sizeMB MB" -ForegroundColor Yellow
        Write-Host ""
        Write-Host "å‹ç¼©ç‡:    $(if($pngCount -gt 0) {[math]::Round((1 - $sizeMB / 600) * 100, 1)}else{0})%" -ForegroundColor Magenta
        Write-Host ""
        
        # é¢„ä¼°è¿›åº¦ï¼ˆå‡è®¾200å¼ å¡é¢ï¼‰
        $progress = [math]::Round(($webpCount / 200) * 100, 1)
        Write-Host "é¢„ä¼°è¿›åº¦:  $progress%" -ForegroundColor Cyan
        
        # è¿›åº¦æ¡
        $barLength = 50
        $filled = [math]::Floor($barLength * $progress / 100)
        $bar = "â–ˆ" * $filled + "â–‘" * ($barLength - $filled)
        Write-Host "[$bar]" -ForegroundColor Green
    } else {
        Write-Host "è¾“å‡ºç›®å½•å°šæœªåˆ›å»º..." -ForegroundColor Yellow
    }
    
    Write-Host ""
    Write-Host "æŒ‰ Ctrl+C åœæ­¢ç›‘æ§" -ForegroundColor Gray
    Write-Host "æœ€åæ›´æ–°: $(Get-Date -Format 'HH:mm:ss')" -ForegroundColor Gray
    
    Start-Sleep -Seconds 5
}
```

**æ•ˆæœ**ï¼š
```
=== å›¾ç‰‡å‹ç¼©è¿›åº¦ç›‘æ§ ===

PNG æ–‡ä»¶:  150 ä¸ª
WebP æ–‡ä»¶: 150 ä¸ª
æ€»è®¡:      300 ä¸ªæ–‡ä»¶
æ€»å¤§å°:    128.45 MB

å‹ç¼©ç‡:    78.6%

é¢„ä¼°è¿›åº¦:  75.0%
[â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘]

æŒ‰ Ctrl+C åœæ­¢ç›‘æ§
æœ€åæ›´æ–°: 15:55:30
```

---

### æ–¹æ³•4ï¼šç›´æ¥æ‰“å¼€æ–‡ä»¶å¤¹æŸ¥çœ‹

```powershell
# æ‰“å¼€è¾“å‡ºç›®å½•
explorer E:\å¶åƒå¤§å¸ˆ\é—ªè€€è‰²å½©å›¾ç‰‡èµ„æº-å‹ç¼©ç‰ˆ\è§’è‰²å¡é¢
```

ç„¶åçœ‹æ–‡ä»¶æ•°é‡å’Œæœ€åä¿®æ”¹æ—¶é—´ï¼Œå¦‚æœä¸å†å¢åŠ æ–°æ–‡ä»¶ï¼Œè¯´æ˜å‹ç¼©å®Œæˆã€‚

---

## âœ… å¦‚ä½•åˆ¤æ–­å‹ç¼©å®Œæˆï¼Ÿ

### æˆåŠŸæ ‡å¿—ï¼š

1. **æ–‡ä»¶æ•°é‡ç¨³å®š**ï¼šä¸å†å¢åŠ æ–°æ–‡ä»¶
2. **Nodeè¿›ç¨‹ç»“æŸ**ï¼š
   ```powershell
   Get-Process node -ErrorAction SilentlyContinue
   # å¦‚æœè¿”å›ç©ºï¼Œè¯´æ˜è„šæœ¬å·²ç»“æŸ
   ```
3. **è„šæœ¬è¾“å‡ºå®Œæˆä¿¡æ¯**ï¼ˆå¦‚æœè¿˜èƒ½çœ‹åˆ°æ§åˆ¶å°ï¼‰ï¼š
   ```
   ğŸ“Š å‹ç¼©å®Œæˆç»Ÿè®¡
   
   æ€»æ–‡ä»¶æ•°: 200
   æˆåŠŸ: 200 | å¤±è´¥: 0
   ...
   ```

---

## ğŸ“Š é¢„æœŸç»“æœ

### åŸå§‹å¡é¢ï¼ˆæ‚¨çš„èµ„æºï¼‰
```
ä½ç½®: E:\å¶åƒå¤§å¸ˆ\é—ªè€€è‰²å½©å›¾ç‰‡èµ„æº\è§’è‰²å¡é¢
æ•°é‡: ~200 å¼  (100å¼ æ™®é€š + 100å¼ è§‰é†’)
å¤§å°: ~1.2 GB
å•å¼ : ~6 MB/å¼ 
```

### å‹ç¼©åï¼ˆPNGï¼‰
```
ä½ç½®: E:\å¶åƒå¤§å¸ˆ\é—ªè€€è‰²å½©å›¾ç‰‡èµ„æº-å‹ç¼©ç‰ˆ\è§’è‰²å¡é¢
æ•°é‡: 200 ä¸ª .png æ–‡ä»¶
å¤§å°: ~300-400 MB
å•å¼ : ~1.5-2 MB/å¼ 
èŠ‚çœ: 70%
```

### WebPæ ¼å¼
```
ä½ç½®: åŒä¸Š
æ•°é‡: 200 ä¸ª .webp æ–‡ä»¶
å¤§å°: ~150-200 MB
å•å¼ : ~750 KB/å¼ 
èŠ‚çœ: 85%
```

---

## â±ï¸ é¢„è®¡å®Œæˆæ—¶é—´

æ ¹æ®æ‚¨çš„CPUæ€§èƒ½ï¼š
- **å¿«é€ŸCPU** (i7/i9): 15-25åˆ†é’Ÿ
- **ä¸­ç­‰CPU** (i5): 25-40åˆ†é’Ÿ
- **æ…¢é€ŸCPU** (i3/ç¬”è®°æœ¬): 40-60åˆ†é’Ÿ

---

## ğŸ¯ å‹ç¼©å®Œæˆåçš„æ£€æŸ¥æ¸…å•

### 1. éªŒè¯æ–‡ä»¶æ•°é‡
```powershell
cd E:\å¶åƒå¤§å¸ˆ\é—ªè€€è‰²å½©å›¾ç‰‡èµ„æº-å‹ç¼©ç‰ˆ\è§’è‰²å¡é¢
$png = (Get-ChildItem -Recurse -Filter *.png).Count
$webp = (Get-ChildItem -Recurse -Filter *.webp).Count

Write-Host "PNG:  $png"
Write-Host "WebP: $webp"

if ($png -eq $webp) {
    Write-Host "âœ… æ–‡ä»¶æ•°é‡æ­£ç¡®ï¼" -ForegroundColor Green
} else {
    Write-Host "âš ï¸  æ–‡ä»¶æ•°é‡ä¸ä¸€è‡´ï¼Œå¯èƒ½æœ‰æ–‡ä»¶å¤„ç†å¤±è´¥" -ForegroundColor Yellow
}
```

### 2. æ£€æŸ¥æ€»å¤§å°
```powershell
$size = (Get-ChildItem -Recurse | Measure-Object -Property Length -Sum).Sum
$sizeMB = [math]::Round($size / 1MB, 2)
Write-Host "æ€»å¤§å°: $sizeMB MB"

if ($sizeMB -lt 500) {
    Write-Host "âœ… å¤§å°åˆç†ï¼Œå¯ä»¥æ¨é€åˆ°GitHubä¸»åˆ†æ”¯" -ForegroundColor Green
} else {
    Write-Host "âš ï¸  å¤§å°è¶…è¿‡500MBï¼Œè€ƒè™‘åˆ†ä»“åº“æˆ–åªç”¨WebP" -ForegroundColor Yellow
}
```

### 3. éšæœºæŠ½æŸ¥è´¨é‡
```powershell
# éšæœºé€‰æ‹©5å¼ å›¾ç‰‡æ‰“å¼€æŸ¥çœ‹
Get-ChildItem -Recurse -Filter *.webp | Get-Random -Count 5 | ForEach-Object {
    Start-Process $_.FullName
}
```

è‚‰çœ¼ç¡®è®¤ç”»è´¨æ˜¯å¦å¯æ¥å—ã€‚

---

## ğŸš¨ å¦‚æœå‹ç¼©å¤±è´¥æ€ä¹ˆåŠï¼Ÿ

### æŸ¥çœ‹æ˜¯å¦æœ‰é”™è¯¯
```powershell
# æ£€æŸ¥Nodeè¿›ç¨‹æ˜¯å¦è¿˜åœ¨è¿è¡Œ
Get-Process node -ErrorAction SilentlyContinue

# å¦‚æœè¿›ç¨‹å­˜åœ¨ä½†é•¿æ—¶é—´æ²¡æœ‰æ–°æ–‡ä»¶ï¼Œå¯èƒ½å¡ä½äº†
# ç»“æŸè¿›ç¨‹é‡æ–°è¿è¡Œï¼š
Stop-Process -Name node -Force
cd E:\å¶åƒå¤§å¸ˆ
node compress-images.js
```

### å¸¸è§é—®é¢˜

**é—®é¢˜1ï¼šå†…å­˜ä¸è¶³**
- ä¿®æ”¹ `compress-images.js`ï¼Œå°† `MAX_CONCURRENT: 5` æ”¹ä¸º `2`

**é—®é¢˜2ï¼šæŸå¼ å›¾ç‰‡æŸå**
- è„šæœ¬ä¼šè·³è¿‡å¹¶ç»§ç»­ï¼ŒæŸ¥çœ‹æ§åˆ¶å°è¾“å‡ºæŸ¥æ‰¾å¤±è´¥çš„æ–‡ä»¶

**é—®é¢˜3ï¼šç£ç›˜ç©ºé—´ä¸è¶³**
- ç¡®ä¿Eç›˜æœ‰è‡³å°‘2GBç©ºé—²ç©ºé—´

---

## ğŸ“ å‹ç¼©å®Œæˆåé€šçŸ¥æˆ‘

å½“æ‚¨ç¡®è®¤å‹ç¼©å®Œæˆåï¼Œè¯·å‘Šè¯‰æˆ‘ï¼š

1. âœ… æ€»æ–‡ä»¶æ•°
2. âœ… æ€»å¤§å°ï¼ˆMBï¼‰
3. âœ… ç”»è´¨æ˜¯å¦æ»¡æ„

ç„¶åæˆ‘ä¼šå¸®æ‚¨ï¼š
1. ä¿®æ”¹ `constants.ts` åˆ‡æ¢åˆ° jsDelivr
2. é…ç½® Git æ¨é€ï¼ˆå¦‚éœ€Git LFSï¼‰
3. æ¨é€åˆ° GitHub ä¸»åˆ†æ”¯

**é¢„è®¡ä¸‹ä¸€æ­¥è€—æ—¶**ï¼š
- ä¿®æ”¹ä»£ç : 5åˆ†é’Ÿ
- é…ç½®Git: 10åˆ†é’Ÿ
- æ¨é€GitHub: 30-60åˆ†é’Ÿ

**æ€»è®¡**: çº¦1å°æ—¶åï¼Œæ‚¨çš„æ¸¸æˆå°†æé€Ÿ **10-20å€**ï¼ğŸš€



